<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/other/styles.css">
    <title>Schedule Editor</title>
</head>
<body>
    <h1>Schedule Editor</h1>
    <button>Use default</button>
    <hr>
    <h2>Add an item</h2>
    <p>Time:</p>
    <input type="time" id="time">
    <p>Name:</p>
    <input type="text" placeholder="Name" id="name">
    <br>
    <br>
    <button onclick="addToSchedule()">Add to the schedule</button>
    <hr>
    <h2>Current Schedule</h2>
    <p id="container"></p>
  <script>
    var E_time = document.getElementById("time")
    var E_name = document.getElementById("name")
    var schedule = JSON.parse(localStorage.schedule)
    function addToSchedule(){
      schedule.push({
        name:E_name.value,
        date:E_time.value
      })
      appendElements()
      localStorage.schedule = JSON.stringify(schedule)
    }
    // Function to append elements to the body
function appendElements() {
    var container = document.getElementById("container");
    
    // Clear previous content
    container.innerHTML = "";
    
    // Loop through the array and create elements
    schedule.forEach(function(obj) {
        var paragraph = document.createElement("p");
        paragraph.innerHTML = obj.name + " - " + obj.time;
        
        var removeButton = document.createElement("button");
        removeButton.innerHTML = "Remove";
        // Add event listener to remove the element when the button is clicked
        removeButton.addEventListener("click", function() {
            // Remove the corresponding object from the array
            var index = schedule.indexOf(obj);
            if (index > -1) {
                schedule.splice(index, 1);
                // Re-render elements
                appendElements();
            }
        });
        
        // Append paragraph and button to the container
        container.appendChild(paragraph);
        container.appendChild(removeButton);
        container.appendChild(document.createElement("br")); // Add line break
    });
}
  </script>
</body>
</html>