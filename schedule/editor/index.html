<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/other/styles.css">
    <title>Schedule Editor</title>
</head>
<body>
    <h1>Schedule Editor</h1>
    <button>Use default</button>
    <hr>
    <h2>Add an item</h2>
    <p>Time:</p>
    <input type="time" id="time">
    <p>Name:</p>
    <input type="text" placeholder="Name" id="name">
    <br>
    <br>
    <button onclick="addToSchedule()">Add to the schedule</button>
    <hr>
    <h2>Current Schedule</h2>
    <p id="schedulePrinted"></p>
  <script>
    var E_time = document.getElementById("time")
    var E_name = document.getElementById("name")
    var E_schedule = document.getElementById("schedulePrinted")
    var schedule = JSON.parse(localStorage.schedule)
    function addToSchedule(){
      schedule.push({
        name:E_name.value,
        date:E_time.value
      })
      var temptext = ""
      E_schedule.innerHTML = temptext
      localStorage.schedule = JSON.stringify(schedule)
      UpdateDisplay()
    }
    function UpdateDisplay(){
        var displayitems = document.getElementsByClassName("ScheduleDisplayItem")
        displayitems.forEach(element=>{
            element.innerHTML = ""
        })
        schedule.forEach(element =>{
            var div = document.createElement('div')
            div.className = "ScheduleDisplayItem"
            var p = document.createElement('p')
            var RemoveBtn = document.createElement('button')
            var ChangeBtn = document.createElement('button')
            var br = document.createElement('br')
            p.innerHTML = element.name + ": " + element.date
            RemoveBtn.innerHTML = "Remove"
            RemoveBtn.onclick = function(){
                
            }
            ChangeBtn.innerHTML = "Change"
            div.append(p)
            div.append(RemoveBtn)
            div.append(ChangeBtn)
            div.append(br)
            document.body.append(div)
        })
    }
    var ttemptext = ""
    var what = JSON.parse(localStorage.schedule)
    what.forEach(element =>{
            
            ttemptext += element.name + ": " + (element.date) + "; "
        })
      E_schedule.innerHTML = ttemptext
  </script>
</body>
</html>